<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>DevGuide</web>
  <name>JSONExport</name>
  <language />
  <defaultLanguage>en</defaultLanguage>
  <translation>0</translation>
  <creator>XWiki.anton</creator>
  <creationDate>1415648653000</creationDate>
  <parent>DevGuide.WebHome</parent>
  <author>XWiki.sdumitriu</author>
  <contentAuthor>XWiki.sdumitriu</contentAuthor>
  <date>1415757001000</date>
  <contentUpdateDate>1415756983000</contentUpdateDate>
  <version>53.1</version>
  <title>JSON Export</title>
  <comment />
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>false</hidden>
  <content>{{warning}}This is the first draft. Please report any issues or send your comments to support@phenotips.org and include "JSON Export Documentation" in the subject line.{{/warning}}&#xd;
&#xd;
The patient records stored in PhenoTips can be exported in a JSON format, which is a format commonly used for automatic parsing by computers. Exporting in JSON format is most suited when an external piece of software or a script needs patient information.&#xd;
&#xd;
The patient records can be exported either individually or in bulk. To export an individual record, open a patient record, hover over "More actions", and then click "Export JSON". To perform a bulk export, navigate to the "Browse all data" page, click "Export database in JSON format", and follow the instructions.&#xd;
&#xd;
{{warning}}Bulk JSON export is not yet available, but it is in the final stage of development.{{/warning}}&#xd;
&#xd;
The following is an explanation of the name/value pairs of an individual patient record in JSON format based on an example. Each line of the name/value pair of the example patient record is presented on the left, with its explanation on the right. Not all of the name/value pairs will necessarily be present. &#xd;
&#xd;
|"id": "P0000001",|The id of the patient record generated by PhenoTips. The format is "P" followed by a unique 7 digit combination.&#xd;
|"external_id": "UDP_1234",|The id given to the patient record by the user.&#xd;
|"reporter":"Admin",|The user ID of the creator of the patient record. This user could no longer be responsible for or even have access to this patient record.&#xd;
|(% style="border-top-width: 1px !important" %)"meta": {|(% style="border-top-width: 1px !important" %)A collection of fields describing the patient record at the time it was exported.&#xd;
|  "phenotips_version": "1.0-milestone-9”,|&#xd;
|  "hpo_version": "13:03:2014 07:47",|The version of the Human Phenotype Ontology used to specify phenotypes of the patient.&#xd;
|  "export_date_time_stamp": "2014-01-10T12:00:48-05:00",|&#xd;
|  "contains_pii": false|##true## if the exported record contains Personally Identifiable Information, otherwise ##false##.&#xd;
|},|&#xd;
|(% style="border-top-width: 1px !important" %)"contact":{|(% style="border-top-width: 1px !important" %)The contact information of the clinician responsible for a patient.&#xd;
|  "user_id":"johndoe",|The PhenoTips user ID of the clinician.&#xd;
|  "name":"John Doe",|&#xd;
|  "email":"support@phenotips.org",|&#xd;
|  "institution":"http://phenotips.org/"|&#xd;
|},|&#xd;
|(% style="border-top-width: 1px !important" %)"patient_name":{|(% style="border-top-width: 1px !important" %)Patient name is absent in all research environments.&#xd;
|  "first_name":"John",|&#xd;
|  "last_name":"Hopfield"|&#xd;
|},|&#xd;
|"sex":"M",|Could be ##F## for female, ##M## for male, and ##U## for unknown.&#xd;
|"date_of_birth":"1933-07-15",|May be a full or partial date (eg. yyyy, yyyy-MM, or yyyy-MM-dd).&#xd;
|(% style="border-top-width: 1px !important" %)"ethnicity":{|(% style="border-top-width: 1px !important" %)The ethnicities of the patient's parents presented as a list.&#xd;
|  "maternal_ethnicity":[|&#xd;
|    "Polish", "Irish"|&#xd;
|  ],|&#xd;
|  "paternal_ethnicity":[|&#xd;
|    "Japanese"|&#xd;
|  ]|&#xd;
|},|&#xd;
|(% style="border-top-width: 1px !important" %)"family_history":{|(% style="border-top-width: 1px !important" %)Information about the patient's family stated as a either ##true## or ##false##.&#xd;
|  "consanguinity":true,|&#xd;
|  "miscarriages":false|&#xd;
|},|&#xd;
|(% style="border-top-width: 1px !important" %)"global_mode_of_inheritance":{|(% style="border-top-width: 1px !important" %)Marks the mode of inheritance of the majority of the patient’s disorders and is used in complement with the //suspected_mode_of_inheritance// qualifier that can be optionally associated to each phenotypic feature, and the //mode_of_inheritance// qualifier that can be optionally associated to each disorder.&#xd;
|  "id":"HP:0001470",|The Human Phenotype Ontology ID of the global mode of inheritance.&#xd;
|  "label":"Sex-limited autosomal dominant"|&#xd;
|},|&#xd;
|"global_age_of_onset":{|Marks the time when the majority of symptoms were first observed and is used in complement with the //age_of_onset// qualifier that can be optionally associated to each feature or disorder.&#xd;
|  "id":"HP:0003577",|The Human Phenotype Ontology ID of the global age of onset.&#xd;
|  "label":"Congenital onset"|&#xd;
|},|&#xd;
|(% style="border-top-width: 1px !important" %)"prenatal_perinatal_history":{|(% style="border-top-width: 1px !important" %)Information relating to the prenatal and perinatal development stages.&#xd;
|  "gestation":36,|Gestation given in weeks.&#xd;
|  "ivf":false,|##true## if In Vitro Fertilization was performed, ##false## otherwise. Not present if unknown.&#xd;
|  "assistedReproduction_fertilityMeds":true,|##true## if fertility medication was used to conceive the patient, ##false## otherwise. Not present if unknown.&#xd;
|  "assistedReproduction_surrogacy":true|##true## if the patient is a surrogate child, ##false## otherwise. Not present if unknown.&#xd;
|},|&#xd;
|"apgar":{|The APGAR scores at 1 and 5 minutes. If the score is unknown, it will not be present.&#xd;
|  "apgar1":6,|&#xd;
|  "apgar5":7|&#xd;
|},|&#xd;
|(% style="border-top-width: 1px !important" %)"prenatal_perinatal_phenotype":{|(% style="border-top-width: 1px !important" %)|&#xd;
|  "prenatal_phenotype":[|The list of prenatal and perinatal phenotypic features which are marked as present.&#xd;
|    {|&#xd;
|      "id":"HP:0001622",|&#xd;
|      "label":"Premature birth"|&#xd;
|    }|&#xd;
|  ],|&#xd;
|  "negative_prenatal_phenotype":[|The list of prenatal and perinatal phenotypic features that are marked as absent.&#xd;
|    {|&#xd;
|      "id":"HP:0001561",|&#xd;
|      "label":"Polyhydramnios"|&#xd;
|    }|&#xd;
|  ]|&#xd;
|}|&#xd;
|(% style="border-top-width: 1px !important" %)"genes":[|(% style="border-top-width: 1px !important" %)The list of candidate genes with each element in the list having a gene name and a comment attached.&#xd;
|  {|&#xd;
|    "gene":"SP3",|&#xd;
|    "comments":"We have low confidence in this choice"|&#xd;
|  }|&#xd;
|],|&#xd;
|(% style="border-top-width: 1px !important" %)"clinicalStatus":{|(% style="border-top-width: 1px !important" %)The clinical status of the patient which can be either ##affected## or ##unaffected##.&#xd;
|  "clinicalStatus":"affected"|&#xd;
|},|&#xd;
|"features":[|The list of all phenotypes marked in the patient record.&#xd;
|  {|&#xd;
|    "id":"HP:0004324",|Human Phenotype Ontology ID of the feature.&#xd;
|    "label":"Increased body weight",|&#xd;
|    "type":"phenotype",|&#xd;
|    "observed":"yes"|&#xd;
|  },|&#xd;
|  {|&#xd;
|    "id":"HP:0000256",|&#xd;
|    "label":"Macrocephaly",|&#xd;
|    "type":"phenotype",|&#xd;
|    "observed":"no"|&#xd;
|  },|&#xd;
|]|&#xd;
|"nonstandard_features":[|List of features that are not contained within the Human Phenotype Ontology, and were entered manually by the user.&#xd;
|  {|&#xd;
|    "label":"Self invented feature",|&#xd;
|    "type":"phenotype",|&#xd;
|    "observed":"yes",|&#xd;
|    "categories":[|The category under which the custom/nonstandard feature was created.&#xd;
|      {|&#xd;
|        "id":"HP:0000152",|&#xd;
|        "label":"Abnormality of head or neck"|&#xd;
|      }|&#xd;
|    ]|&#xd;
|  }|&#xd;
|],|&#xd;
|(% style="border-top-width: 1px !important" %)"disorders":[|(% style="border-top-width: 1px !important" %)List of all disorders the patient has.&#xd;
|  {|&#xd;
|    "id":"MIM:129500",|Online Mendelian Inheritance in Man Ontology ID of the disorder.&#xd;
|    "label":"#129500 CLOUSTON SYNDROME ;;ECTODERMAL DYSPLASIA 2, CLOUSTON TYPE; ECTD2;; ECTODERMAL DYSPLASIA, HIDROTIC, AUTOSOMAL DOMINANT;; CLOUSTON HIDROTIC ECTODERMAL DYSPLASIA;; ECTODERMAL DYSPLASIA, HIDROTIC, 2, FORMERLY; HED2, FORMERLY"|&#xd;
|  }|&#xd;
|],|&#xd;
|(% style="border-top-width: 1px !important" %)"notes":{|(% style="border-top-width: 1px !important" %)All the note fields in the patient report are united under this section. Generally the name of the field indicates which section the notes are from.&#xd;
|  "indication_for_referral":"Complaints about pains in the right hemisphere of the brain.",|&#xd;
|  "family_history":"family history notes",|&#xd;
|  "prenatal_development":"There are no abnormalities during the prenatal stage of development.",|&#xd;
|  "medical_history":"There have been some issues with blood flow to the right hemisphere of the brain.",|&#xd;
|  "diagnosis_notes":"We are unsure about the diagnosis"|&#xd;
|},|&#xd;
|(% style="border-top-width: 1px !important" %)"specificity":{|(% style="border-top-width: 1px !important" %)Specificity is a measure of how detailed a phenotypic description is and is affected by two main factors: by the ontology level of phenotypes in the description (eg. abnormal eye physiology vs. glaucoma) and the frequency of occurrence of those phenotypes in the general population. &#xd;
|  "score":0.0,|The score in the range of 0 to 1 roughly representing the quality of the phenotypic description of the patient.&#xd;
|  "date":"2014-11-11T15:01:42.967Z",|&#xd;
|  "server":"monarchinitiative.org"|&#xd;
|},|</content>
  <object>
    <name>DevGuide.JSONExport</name>
    <number>0</number>
    <className>XWiki.StyleSheetExtension</className>
    <guid>d55d5463-ec4c-4ea6-a5d6-a85f5cf37dde</guid>
    <class>
      <name>XWiki.StyleSheetExtension</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <disabled>0</disabled>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage=Always on this page|onDemand=On demand|always=Always on this wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>table, td, tr {&#xd;
  border: 0px solid black !important&#xd;
}&#xd;
tr td:first-of-type {&#xd;
  border-right-width: 1px !important&#xd;
}&#xd;
table .box {&#xd;
  padding: 0 !important&#xd;
}&#xd;
</code>
    </property>
    <property>
      <name>Custom table style</name>
    </property>
    <property>
      <parse>0</parse>
    </property>
    <property>
      <use>currentPage</use>
    </property>
  </object>
</xwikidoc>