<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>Macros</web>
  <name>SCM</name>
  <language />
  <defaultLanguage>en</defaultLanguage>
  <translation>0</translation>
  <creator>XWiki.ThomasMortagne</creator>
  <creationDate>1316783576000</creationDate>
  <author>XWiki.sdumitriu</author>
  <contentAuthor>XWiki.sdumitriu</contentAuthor>
  <date>1373554028000</date>
  <contentUpdateDate>1373553990000</contentUpdateDate>
  <version>4.1</version>
  <title>SCM Macro</title>
  <comment>Imported from XAR</comment>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.0</syntaxId>
  <hidden>false</hidden>
  <content>= Parameters&#xd;
&#xd;
|= Parameter name |= Default value |= Description&#xd;
| user | phenotips | the github user&#xd;
| project | phenotips | the repository name in the provided user&#xd;
| branch | master | the branch or tag&#xd;
| raw | false | UI or raw content&#xd;
| path | empty string | the resource in the repository</content>
  <object>
    <name>Macros.SCM</name>
    <number>0</number>
    <className>XWiki.WikiMacroClass</className>
    <guid>c5179cba-5190-4307-9acd-d382d0d0a34c</guid>
    <class>
      <name>XWiki.WikiMacroClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <code>
        <disabled>0</disabled>
        <name>code</name>
        <number>9</number>
        <prettyName>Macro code</prettyName>
        <rows>20</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <contentDescription>
        <disabled>0</disabled>
        <name>contentDescription</name>
        <number>8</number>
        <prettyName>Content description (Not applicable for "No content" type)</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </contentDescription>
      <contentType>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>contentType</name>
        <number>7</number>
        <prettyName>Macro content type</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Optional|Mandatory|No content</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </contentType>
      <defaultCategory>
        <disabled>0</disabled>
        <name>defaultCategory</name>
        <number>4</number>
        <prettyName>Default category</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultCategory>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>3</number>
        <prettyName>Macro description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <id>
        <disabled>0</disabled>
        <name>id</name>
        <number>1</number>
        <prettyName>Macro id</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </id>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>2</number>
        <prettyName>Macro name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <supportsInlineMode>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>supportsInlineMode</name>
        <number>5</number>
        <prettyName>Supports inline mode</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </supportsInlineMode>
      <visibility>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>visibility</name>
        <number>6</number>
        <prettyName>Macro visibility</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Current User|Current Wiki|Global</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </visibility>
    </class>
    <property>
      <code>{{velocity}}&#xd;
#if ($xcontext.macro.params.raw.toLowerCase() == 'true')&#xd;
  #set($scmBase = 'http://raw.github.com')&#xd;
#else&#xd;
  #set($scmBase = 'http://www.github.com')&#xd;
#end&#xd;
##&#xd;
#set($scmDefaulUser = 'xwiki')&#xd;
#set($scmDefaultProject = 'xwiki-platform')&#xd;
#set($scmDefaultBranch = 'master')&#xd;
##&#xd;
#set($scmUrl = "$scmBase")&#xd;
##&#xd;
## user&#xd;
#if ($xcontext.macro.params.user)&#xd;
  #set($scmUrl = "$scmUrl/${xcontext.macro.params.user}")&#xd;
#else&#xd;
  #set($scmUrl = "$scmDefaulUser")&#xd;
#end&#xd;
##&#xd;
## project&#xd;
#if ($xcontext.macro.params.project)&#xd;
  #set($scmUrl = "$scmUrl/${xcontext.macro.params.project}")&#xd;
#end&#xd;
##&#xd;
## raw&#xd;
#if ($xcontext.macro.params.raw.toLowerCase() == 'true')&#xd;
  #set($scBranchPrefix = '')&#xd;
#else&#xd;
  #set($scBranchPrefix = 'tree/')&#xd;
#end&#xd;
##&#xd;
## branch&#xd;
#if ($xcontext.macro.params.branch)&#xd;
  #if (!$xcontext.macro.params.project)&#xd;
    #set($scmUrl = "$scmUrl/$scmDefaultProject")&#xd;
  #end&#xd;
  #set($scmUrl = "$scmUrl/${scBranchPrefix}${xcontext.macro.params.branch}")&#xd;
#end&#xd;
##&#xd;
## path&#xd;
#if ($xcontext.macro.params.path)&#xd;
  #if (!$xcontext.macro.params.branch &amp;&amp; $scmDefaultBranch)&#xd;
    #if (!$xcontext.macro.params.project)&#xd;
      #set($scmUrl = "$scmUrl/$scmDefaultProject")&#xd;
    #end&#xd;
    #set($scmUrl = "$scmUrl/${scBranchPrefix}$scmDefaultBranch")&#xd;
  #end&#xd;
  #set($scmUrl = "$scmUrl/${xcontext.macro.params.path}")&#xd;
#end&#xd;
##&#xd;
#if ($xcontext.macro.content)&#xd;
  [[$xcontext.macro.content>>$scmUrl]]&#xd;
#else&#xd;
  [[$scmUrl]]&#xd;
#end&#xd;
{{/velocity}}</code>
    </property>
    <property>
      <contentDescription></contentDescription>
    </property>
    <property>
      <contentType>Optional</contentType>
    </property>
    <property>
      <defaultCategory>Documentation</defaultCategory>
    </property>
    <property>
      <description>Produce scm link</description>
    </property>
    <property>
      <id>scm</id>
    </property>
    <property>
      <name>scm</name>
    </property>
    <property>
      <supportsInlineMode>1</supportsInlineMode>
    </property>
    <property>
      <visibility>Global</visibility>
    </property>
  </object>
  <object>
    <name>Macros.SCM</name>
    <number>0</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>3b7539ac-4dc4-4e3a-bcbf-889d3c0911ff</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>phenotips</defaultValue>
    </property>
    <property>
      <description>The id of the project</description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>project</name>
    </property>
  </object>
  <object>
    <name>Macros.SCM</name>
    <number>1</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>14f1e07c-c659-441a-928b-9751d6dc40e2</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue></defaultValue>
    </property>
    <property>
      <description>The end of the URL</description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>path</name>
    </property>
  </object>
  <object>
    <name>Macros.SCM</name>
    <number>2</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>465995da-ebf4-44bf-a336-1d9ff0328ecf</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue></defaultValue>
    </property>
    <property>
      <description>The branch</description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>branch</name>
    </property>
  </object>
  <object>
    <name>Macros.SCM</name>
    <number>4</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>9531e84d-17d3-44b7-8c90-76da1f52d61f</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>phenotips</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>user</name>
    </property>
  </object>
  <object>
    <name>Macros.SCM</name>
    <number>5</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>d2111c34-17aa-4487-a7b0-4b360958c7ac</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>false</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>raw</name>
    </property>
  </object>
</xwikidoc>