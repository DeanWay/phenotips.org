<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>IRC</web>
  <name>medsavantArchive20130626</name>
  <language />
  <defaultLanguage />
  <translation>0</translation>
  <creator>XWiki.Admin</creator>
  <creationDate>1372233389000</creationDate>
  <parent>IRC.WebHome</parent>
  <author>XWiki.Admin</author>
  <contentAuthor>XWiki.Admin</contentAuthor>
  <date>1372303579000</date>
  <contentUpdateDate>1372303579000</contentUpdateDate>
  <version>1.117</version>
  <title>IRC Archive for channel #medsavant on 26 June 2013</title>
  <comment>Logging from IRC</comment>
  <minorEdit>true</minorEdit>
  <syntaxId>plain/1.0</syntaxId>
  <hidden>false</hidden>
  <content>&lt;bvancea> has joined #medsavant
04:33 &lt;sdumitriu> has joined #medsavant
07:46 &lt;bvancea> has joined #medsavant
08:15 &lt;mcupak> has joined #medsavant
08:44 &lt;bvancea> hey sdumitriu
08:44 &lt;sdumitriu> Hey bvancea
08:47 &lt;bvancea> how are you?
08:48 &lt;sdumitriu> Good
08:48 &lt;bvancea> I've fixed things you've pointed out
08:49 &lt;bvancea> but I'm still getting an IllegalArgumentException when querying with fq terms
08:49 &lt;bvancea> sort of frustrating
08:54 &lt;bvancea> I'm hoping I'll figure it out soon
08:55 &lt;sdumitriu> Stacktrace?
08:56 &lt;bvancea> sure, sec
08:59 &lt;bvancea> http://pastebin.com/NKbui40Y
08:59 &lt;bvancea> the query actually runs if copy pasted in the browser
09:08 &lt;bvancea> I'll check it out later, I need to go take the group pictures for the diploma
09:08 &lt;bvancea> maybe some fresh air will give me new ideas
09:08 &lt;bvancea> :D
09:42 &lt;sdumitriu> Wait
11:55 &lt;bvancea> has joined #medsavant
11:56 &lt;bvancea> hey sdumitriu
11:56 &lt;bvancea> I say your response only now
11:56 &lt;bvancea> saw*
11:59 &lt;sdumitriu> Hey bvancea
11:59 &lt;sdumitriu> So, the problem is simple
11:59 &lt;sdumitriu> You're not using SolrJ APIs to generate the URL
11:59 &lt;sdumitriu> You're trying to manually create a new URL
11:59 &lt;sdumitriu> It complains about the spaces
12:00 &lt;sdumitriu> You should replace them with + or %20
12:00 &lt;bvancea> hmmm
12:00 &lt;bvancea> thanks
12:00 &lt;bvancea> :D
12:00 &lt;bvancea> maybe I should switch to solrj
12:00 &lt;bvancea> but I haven't found a class that allows to add both q and fq parameters
12:02 &lt;sdumitriu> Or better than a simple replace, use http://docs.oracle.com/javase/6/docs/api/java/net/URLEncoder.html#encode%28java.lang.String,%20java.lang.String%29
12:03 &lt;sdumitriu> bvancea: There is
12:04 &lt;bvancea> I've actually tried doing something like this: URLEncoder.encode(safeURL , "UTF-8")
12:04 &lt;sdumitriu> You have org.apache.solr.common.params.MapSolrParams
12:04 &lt;bvancea> but I still had a problem
12:04 &lt;sdumitriu> bvancea: Not the whole URL
12:04 &lt;bvancea> just the query
12:04 &lt;bvancea> hmmm
12:04 &lt;sdumitriu> "q=" + URLEncoder.... + "&amp;fq=" + URLEncoder...
12:04 &lt;bvancea> ohh
12:04 &lt;bvancea> my bad
12:05 &lt;bvancea> I actually tried doing URLEncoder("q=...&amp;fq=...", ...)
12:06 &lt;bvancea> btw
12:07 &lt;bvancea> there are a lot of methods that require to specify the encoding as a string
12:07 &lt;bvancea> is there a constants class that I can use for the encodings?
12:08 &lt;sdumitriu> No
12:08 &lt;sdumitriu> There should be
12:08 &lt;sdumitriu> And I really don't like that I have to try..catch
12:09 &lt;sdumitriu> "What if the encoding specified doesn't exist?" But of course it does, UTF-8 is mandatory for any Java virtual machine
12:09 &lt;bvancea> ah, that sucks a bit
12:09 &lt;bvancea> so it's just "UTF-8" as a string all the way
12:09 &lt;sdumitriu> Yes
12:12 &lt;bvancea> that's not very pretty code
12:12 &lt;bvancea> oh well
12:13 &lt;sdumitriu> You should define a constant somewhere
12:13 &lt;bvancea> hmm
12:14 &lt;bvancea> I'll make a class to hold it
12:14 &lt;bvancea> EncodingConstants sounds like a good name
16:19 &lt;bvancea> sdumitriu: about the author tags, I've only added them because I noticed almost every class has one
16:20 &lt;sdumitriu> I know
16:20 &lt;sdumitriu> Still, they're bad
16:20 &lt;bvancea> should I remove then
16:20 &lt;bvancea> ?
16:20 &lt;sdumitriu> Yes
16:20 &lt;bvancea> okay :D
16:20 &lt;sdumitriu> I'll probably remove all of them soon
16:20 &lt;bvancea> ah, I understand
16:29 &lt;bvancea> anyway, I've also checked out the JPQL
16:30 &lt;bvancea> you're thinking we should create custom entity manager implementations?
16:30 &lt;bvancea> for abstracting both backends
16:33 &lt;sdumitriu> Not really
16:33 &lt;sdumitriu> That's for the future
16:33 &lt;sdumitriu> Just that we should use the query language as the abstract query language
16:34 &lt;sdumitriu> With translators into Solr and SQL
16:34 &lt;sdumitriu> In the future yes, we should think about using JPA instead of a custom storage interface
16:34 &lt;sdumitriu> But it's too much change for now
16:34 &lt;sdumitriu> One step at a time
16:35 &lt;sdumitriu> And choosing JPQL makes it easier to use JPA in the future
16:35 &lt;bvancea> oh, I see
16:36 &lt;bvancea> but we can still hide the JPQL behind some service layer, right?
16:36 &lt;bvancea> so we don't have a lot of it spread out
16:38 &lt;sdumitriu> Yes
16:39 &lt;sdumitriu> It's a query language, so it will be passed as strings
16:39 &lt;sdumitriu> Just that instead of passing SQL-like strings, we pass JPQL-like strins
16:45 &lt;bvancea> yup
17:08 &lt;bvancea> so any idea why the Assert class in JUnit is deprecated?
17:09 &lt;bvancea> I google a bit, but didn't find a replacement
17:13 &lt;sdumitriu> It's under a different package
17:14 &lt;sdumitriu> org.junit.Assert I think
17:15 &lt;bvancea> yup
17:15 &lt;bvancea> thanks :D
17:27 &lt;bvancea> hmm, medsavant doesn't have a README.md file
17:27 &lt;bvancea> and github complains
17:27 &lt;bvancea> can I add one with some basic info
17:27 &lt;bvancea> ?
17:27 &lt;bvancea> like the one here: http://www.genomesavant.com/p/medsavant/index
17:28 &lt;sdumitriu> Sure
17:28 &lt;bvancea> yay
17:28 &lt;sdumitriu> Don't forget to do it in the right branch
17:29 &lt;bvancea> on master, right?
17:29 &lt;bvancea> or just my own
17:29 &lt;bvancea> I mean, the feature-solr-...
17:33 &lt;sdumitriu> master
17:39 &lt;bvancea> well that didn't go as pretty as I had imagined it
17:40 &lt;bvancea> a preview feature would be nice
17:40 &lt;bvancea> for github markdown
17:50 &lt;bvancea> looks a little better now
18:30 &lt;bvancea> has joined #medsavant
18:44 &lt;bvancea> well, I'm off to bed
18:44 &lt;bvancea> good night
23:09 &lt;sdumitriu> has joined #medsavant
23:26 &lt;sdumitriu> has joined #medsavant</content>
  <object>
    <name>IRC.medsavantArchive20130626</name>
    <number>0</number>
    <className>IRC.IRCBotArchiveClass</className>
    <guid>2b88abb7-d913-4c75-b091-970f371f767b</guid>
    <class>
      <name>IRC.IRCBotArchiveClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <channel>
        <customDisplay />
        <disabled>0</disabled>
        <name>channel</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Channel</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage />
        <validationRegExp />
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </channel>
    </class>
    <property>
      <channel>medsavant</channel>
    </property>
  </object>
</xwikidoc>