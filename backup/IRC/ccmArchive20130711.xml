<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>IRC</web>
  <name>ccmArchive20130711</name>
  <language />
  <defaultLanguage />
  <translation>0</translation>
  <creator>XWiki.sdumitriu</creator>
  <creationDate>1373555480000</creationDate>
  <parent>IRC.WebHome</parent>
  <author>XWiki.sdumitriu</author>
  <contentAuthor>XWiki.sdumitriu</contentAuthor>
  <date>1373577565000</date>
  <contentUpdateDate>1373577565000</contentUpdateDate>
  <version>1.89</version>
  <title>IRC Archive for channel #ccm on 11 July 2013</title>
  <comment>Logging from IRC</comment>
  <minorEdit>true</minorEdit>
  <syntaxId>plain/1.0</syntaxId>
  <hidden>false</hidden>
  <content>&lt;ravigarg27> has joined #ccm
11:20 &lt;ravigarg27> hey sdumitriu,
11:20 &lt;sdumitriu>  Hi ravigarg27
11:21 &lt;ravigarg27> another small doubt
11:22 &lt;sdumitriu> Go ahead
11:22 &lt;ravigarg27> I am getting URI is not hierarchial in this.getClass().getClassLoader().getResource().toString();
11:23 &lt;ravigarg27> I printed the path thats coming correct
11:24 &lt;ravigarg27> I tried quite a few thigs from stack
11:24 &lt;ravigarg27> but am not able to get this working
11:28 &lt;sdumitriu> pastebin the stack
11:28 &lt;sdumitriu> And the code
11:29 &lt;ravigarg27> ok just a min
11:35 &lt;ravigarg27> this is the code http://pastebin.com/XqZeNbV7 and stack http://pastebin.com/yTM28Sdf
11:36 &lt;ravigarg27> error arises while I initialise the analysisengine
11:37 &lt;sdumitriu> Try getResource("/cTAKES/SentenceDetection/sdmed.mod")
11:38 &lt;ravigarg27> with classloader it returns null
11:38 &lt;ravigarg27> am trying once again though
11:39 &lt;sdumitriu> Where is that file?
11:40 &lt;ravigarg27> the file is in resource/cTAKES/SentenceDetection/sdmed.mod
11:44 &lt;sdumitriu> Should be src/main/resources/cTAKES/SentenceDetection/sdmed.mod
11:46 &lt;ravigarg27> yeah correct, but I printed the path too so no problem with the path other would have filenotfoundexception
11:46 &lt;ravigarg27> *otherwise
11:47 &lt;ravigarg27> the problem I think is I am getting jar:file:/path/ name but should get only file:/path/name
11:54 &lt;sdumitriu> Wait
11:55 &lt;sdumitriu> What exactly are you trying to do?
11:56 &lt;ravigarg27> trying to get the url of resource
11:56 &lt;sdumitriu> The resource is inside a jar
11:57 &lt;sdumitriu> You can't use createExternalResourceDescription for that
11:57 &lt;ravigarg27> ohh
11:57 &lt;ravigarg27> but why is that
11:58 &lt;sdumitriu> Because it's not an external resource
11:58 &lt;sdumitriu> external = accessible through an URL
11:58 &lt;ravigarg27> ohh okay
11:59 &lt;sdumitriu> That is an internal resource accessible through getResourceAsStream
11:59 &lt;sdumitriu> Not through normal file operations
12:00 &lt;ravigarg27> okay but then will have to change the method to initialise the description
12:09 &lt;sdumitriu> OK, I've looked a bit at the available APIs
12:09 &lt;sdumitriu> And they all seem to work with files and Stringified URLs
12:09 &lt;sdumitriu> So it looks like it's not easy to work with resources in a jar
12:09 &lt;sdumitriu> So, change of plans
12:10 &lt;sdumitriu> The resources should be somewhere else, available as files
12:15 &lt;ravigarg27> okay
12:15 &lt;ravigarg27> so how should I proceed now
12:26 &lt;ravigarg27_> has joined #ccm
12:28 &lt;sdumitriu> You move the resources into a separate module
12:28 &lt;sdumitriu> You add a dependency on that module
12:28 &lt;sdumitriu> You use this: http://maven.apache.org/plugins/maven-dependency-plugin/unpack-mojo.html
12:29 &lt;sdumitriu> to make the files available for testing the jar with the actual code
12:30 &lt;ravigarg27_> okay will work on this now
12:30 &lt;sdumitriu> And you do what's done for the pedigree-editor module in the war: https://github.com/phenotips/phenotips/blob/master/distribution/war/pom.xml
12:31 &lt;ravigarg27_> hmm ok thanx
12:31 &lt;sdumitriu> Tomorrow we might not have time for the hangout
12:31 &lt;sdumitriu> So we'll have to move it
12:32 &lt;ravigarg27_> ohh ok
12:32 &lt;sdumitriu> Do you want to discuss something today, or should we leave it to next Tuesday?
12:33 &lt;ravigarg27_> next Tuesday will do I will work on this and complete it till then
12:33 &lt;ravigarg27_> if I am able to complete before I will send a video demo
12:33 &lt;sdumitriu> Sounds great
12:34 &lt;ravigarg27_> also wanted to ask one thing more Dependency Parser needs about 1gb of memory to work
12:34 &lt;ravigarg27_> so will that be an issie
12:34 &lt;ravigarg27_> *issue
12:34 &lt;ravigarg27_> it works even if we dont use it though
12:35 &lt;ravigarg27_> but may effect accuracy
12:39 &lt;sdumitriu> It's not an issue, as long as we update the default Xmx value in start.sh
12:39 &lt;sdumitriu> But we'll have to investigate
12:40 &lt;sdumitriu> If it works good enough without it, we can remove it from the pipeline
12:41 &lt;ravigarg27_> okay will try on some test cases and let you know soon
16:25 &lt;ravigarg27> has joined #ccm
17:00 &lt;ravigarg27> Hey sdumitriu, I am using this example as reference http://maven.apache.org/plugins/maven-dependency-plugin/examples/unpacking-artifacts.html and am little confused on whether I am doing it correct
17:00 &lt;ravigarg27> This is what I have done till now
17:00 &lt;ravigarg27> created another module ctakes-resources in components
17:01 &lt;ravigarg27> added it as dependency to ctakes-service
17:02 &lt;ravigarg27> now where should I put the unpacking code, in  phenotips / distribution / war / pom.xml ?
17:03 &lt;ravigarg27> and what should the output directory be in that case
17:06 &lt;sdumitriu> Yes, in the war pom.xml
17:07 &lt;sdumitriu> Hm, no
17:07 &lt;sdumitriu> The war packaging processes dependencies differently
17:07 &lt;sdumitriu> Look in that pom at what's done for pedigree-editor
17:07 &lt;sdumitriu> You'll use the maven-dependency-plugin in the jar module with your code
17:08 &lt;sdumitriu> So that the code can use the resources during tests
17:09 &lt;ravigarg27> okay so need to place unpacking code in ctakes-service's pom itself right?
17:11 &lt;sdumitriu> Yes
17:11 &lt;sdumitriu> Note that whatever you unpack in ctakes-service will just be temporary
17:12 &lt;ravigarg27> yeah okay I just need them at initialisation of engine
17:13 &lt;ravigarg27> but that will be at run time
17:13 &lt;ravigarg27> will that be a problem
17:14 &lt;ravigarg27> built it successfully though
17:16 &lt;sdumitriu> No, that shouldn't be a problem
17:19 &lt;ravigarg27> okay great</content>
  <object>
    <name>IRC.ccmArchive20130711</name>
    <number>0</number>
    <className>IRC.IRCBotArchiveClass</className>
    <guid>f2724406-ea90-40e3-aa95-de3aff4d50a0</guid>
    <class>
      <name>IRC.IRCBotArchiveClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <channel>
        <customDisplay />
        <disabled>0</disabled>
        <name>channel</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Channel</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage />
        <validationRegExp />
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </channel>
    </class>
    <property>
      <channel>ccm</channel>
    </property>
  </object>
</xwikidoc>