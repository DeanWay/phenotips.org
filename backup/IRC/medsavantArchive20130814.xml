<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>IRC</web>
  <name>medsavantArchive20130814</name>
  <language />
  <defaultLanguage />
  <translation>0</translation>
  <creator>XWiki.sdumitriu</creator>
  <creationDate>1376466409000</creationDate>
  <parent>IRC.WebHome</parent>
  <author>XWiki.sdumitriu</author>
  <contentAuthor>XWiki.sdumitriu</contentAuthor>
  <date>1376536831000</date>
  <contentUpdateDate>1376536831000</contentUpdateDate>
  <version>1.142</version>
  <title>IRC Archive for channel #medsavant on 14 August 2013</title>
  <comment>Logging from IRC</comment>
  <minorEdit>true</minorEdit>
  <syntaxId>plain/1.0</syntaxId>
  <hidden>false</hidden>
  <content>&lt;sdumitriu> has joined #medsavant
06:12 &lt;bvancea> has joined #medsavant
06:25 &lt;mcupak> has joined #medsavant
09:52 &lt;Jim__> has joined #medsavant
10:01 &lt;sdumitriu1> has joined #medsavant
11:11 &lt;bvancea> has joined #medsavant
11:17 &lt;bvancea> hey sdumitriu
11:17 &lt;sdumitriu1> Hey
11:17 &lt;sdumitriu1> Yeah, it's a bit complicated
11:17 &lt;bvancea> I get errors building the deb/rpm
11:18 &lt;bvancea> the windows installer builds fine
11:18 &lt;sdumitriu1> The RPM requires the rpm binary
11:18 &lt;sdumitriu1> apt-get install rpm
11:18 &lt;sdumitriu1> But the deb should work fine
11:18 &lt;bvancea> I see
11:18 &lt;sdumitriu1> What's wrong with it?
11:18 &lt;bvancea> error on mvn install
11:18 &lt;bvancea> Caused by: java.io.FileNotFoundException: Data source not found : /media/external/work/GSOC/savant/distribution/deb/target/deb/savant-core-2.0-SNAPSHOT.jar
11:19 &lt;sdumitriu1> Right
11:19 &lt;sdumitriu1> Did you build everything at once?
11:19 &lt;bvancea> hmm
11:19 &lt;bvancea> nu
11:19 &lt;sdumitriu1> If the core comes from nexus then it will have a different name
11:19 &lt;bvancea> ah
11:19 &lt;bvancea> ok, I'll build for savant parent pom
11:19 &lt;bvancea> from*
11:26 &lt;bvancea> sdumitriu1: building from main parent pom fails at redhart distribution
11:26 &lt;bvancea> [ERROR] Failed to execute goal org.codehaus.mojo:rpm-maven-plugin:2.1-alpha-3:rpm (default-rpm) on project savant-rpm: Unable to copy files for packaging: chmod exit code was: 1
11:26 &lt;sdumitriu1> Hm...
11:27 &lt;sdumitriu1> Do you have rpm?
11:27 &lt;bvancea> yes
11:27 &lt;bvancea> although
11:27 &lt;bvancea> I installed it from another terminal
11:27 &lt;sdumitriu1> That shouldn't matter
11:28 &lt;sdumitriu1> So chmod failed
11:28 &lt;bvancea> yes
11:34 &lt;bvancea> running with sudo doesn't help either
11:34 &lt;bvancea> same error
11:34 &lt;bvancea> I have to be afk for a couple of hours, I'll try some more when I'm back :)
11:37 &lt;sdumitriu1> Never run with sudo
13:02 &lt;Jim__> has joined #medsavant
14:36 &lt;bvancea> sdumitriu1: why shouldn't I run with sudo?
14:36 &lt;bvancea> I guess you can't assume the users will have sudo rights
14:37 &lt;bvancea> or it looks suspicious that you'd need sudo
14:37 &lt;sdumitriu1> sudo should only be used for important system stuff
14:38 &lt;sdumitriu1> Not for compiling a program
14:38 &lt;bvancea> yeah, makes sense
14:39 &lt;bvancea> the .deb installs just fine
14:40 &lt;bvancea> can't seem to run it though because of the "-Xmx4g" option
14:40 &lt;bvancea> I'm getting an "Invalid max heap size"
14:41 &lt;sdumitriu1> Oh
14:41 &lt;sdumitriu1> 32bit?
14:44 &lt;bvancea> I'm running ubuntu 12.10 on 64bit
14:44 &lt;bvancea> I think, since uname -m returns i686
14:44 &lt;sdumitriu1> java -version
14:44 &lt;bvancea> 32
14:44 &lt;sdumitriu1> So you're on 32 bit linux
14:44 &lt;bvancea> 1.7.0_21
14:44 &lt;bvancea> but I used java -d64 -version
14:45 &lt;bvancea> and it tells me the jvm is not 64 bit
14:45 &lt;sdumitriu1> uname -m i686 means 32 bit
14:45 &lt;bvancea> hmm
14:45 &lt;sdumitriu1> So...
14:46 &lt;sdumitriu1> 4G is recommended
14:46 &lt;sdumitriu1> Should we use 1G instead?
14:46 &lt;bvancea> so the x86_64 is 64 bit kernel then
14:46 &lt;sdumitriu1> Yes
14:46 &lt;bvancea> I'm running with 1024m
14:46 &lt;bvancea> for development
14:46 &lt;bvancea> it works ok-ish
14:46 &lt;bvancea> but then again, I don't have 100 million variants
14:47 &lt;sdumitriu1> That's MedSavant, but you're trying Savant, right?
14:48 &lt;bvancea> hmm, yes
14:48 &lt;bvancea> you're right, nvm
14:48 &lt;bvancea> but 1G sounds decent
14:50 &lt;bvancea> Savant starts ok with 1G
14:50 &lt;bvancea> but even so, most 32bit kernels have pae
14:50 &lt;sdumitriu1> Yes, it starts with 64M
14:51 &lt;sdumitriu1> But loading huge files will break it...
14:51 &lt;bvancea> so you should be able to have 4GB of memory to a program
14:51 &lt;bvancea> with pae
15:46 &lt;bvancea> so the rpm package builds with sudo mvn install
15:46 &lt;bvancea> I tried to convert to .deb with alien
15:46 &lt;bvancea> but that fails
15:46 &lt;bvancea> did you manage to test on any redhat based distro?
15:47 &lt;sdumitriu1> Yes
15:47 &lt;sdumitriu1> CentOS
15:47 &lt;bvancea> I see
15:47 &lt;bvancea> should work then
15:52 &lt;Jim__> FYI, I think that PAE allows >=4GB to be used by the OS, but individual processes are still limited to a 32 bit address space.
15:53 &lt;bvancea> that sounds ok
15:54 &lt;bvancea> but that would still allow max 4gb per non-OS process
15:54 &lt;Jim__> Not exactly
15:54 &lt;sdumitriu1> Nope
15:54 &lt;Jim__> some memory is reserved
15:54 &lt;Jim__> and -Xmx is just the heap size
15:55 &lt;bvancea> hmm
15:55 &lt;bvancea> I see
15:55 &lt;sdumitriu1> 2G is the limit
15:56 &lt;sdumitriu1> or 3?
15:56 &lt;Jim__> I'm not sure
15:57 &lt;bvancea> I've found 2GB for windows
15:57 &lt;bvancea> and 3GB for linux/ windows server
15:57 &lt;sdumitriu1> http://www.linuxquestions.org/questions/linux-general-1/32-bit-os-and-4gb-memory-limit-707762/#post3458405
15:57 &lt;Jim__> I think 3 is possible, but might it might need special arguments to the kernel on startup
15:57 &lt;bvancea> on some stackoverflow answer
15:58 &lt;Jim__> I think 2 would be safest.
15:59 &lt;sdumitriu1> Minus permgen and the rest, 1.5
15:59 &lt;sdumitriu1> I tried with 2 on Windows and it still failed
15:59 &lt;Jim__> Yeah
15:59 &lt;Jim__> on XP it could be a problem
16:01 &lt;Jim__> My thought is that anybody who runs this program on a 32 bit CPU has got to expect that working with large files is going to be slower.
16:09 &lt;bvancea> ok, I've found out why the mvn build failed on the chmod
16:10 &lt;bvancea> I did git clone on a NTFS partition
16:10 &lt;sdumitriu1> Oh
16:10 &lt;sdumitriu1> That's expected
16:10 &lt;sdumitriu1> :)
16:10 &lt;bvancea> although I remember setting the right permissions on fstab
16:11 &lt;bvancea> so I've converted the rpm to deb with alien
16:11 &lt;bvancea> and it works properly
16:12 &lt;bvancea> save the xmx option
16:31 &lt;bvancea> has joined #medsavant
22:38 &lt;jim^> has joined #medsavant
22:39 &lt;jim^> does anyone have root access to medsavant.cs.utoronto.ca?  The medsavant server process keeps dying without errors or warnings, and I'd like to know if there's anything in the system log that might explain it
23:15 &lt;sdumitriu> jim^: Nope
23:16 &lt;jim^> I saw something in the dmesg log that might explain it
23:16 &lt;jim^> https://github.com/compbio-UofT/medsavant/issues/49
23:17 &lt;jim^> that log is so far my only clue.
23:18 &lt;sdumitriu> Ah
23:18 &lt;sdumitriu> That looks like a storage issue
23:19 &lt;sdumitriu> Should be reported to the sysadmins
23:19 &lt;jim^> yes, another forum post suggested it could occur from bad sectors also
23:19 &lt;jim^> do you know who the sysadmins are?
23:19 &lt;sdumitriu> Misko
23:19 &lt;jim^> ah
23:19 &lt;jim^> ok
23:19 &lt;jim^> I'll send him an email
23:20 &lt;sdumitriu> Florin
23:20 &lt;sdumitriu> I'm not sure which of them will have time to look at it sooner
23:20 &lt;sdumitriu> Better send it to both
23:20 &lt;jim^> OK, what's Florin's email?</content>
  <object>
    <name>IRC.medsavantArchive20130814</name>
    <number>0</number>
    <className>IRC.IRCBotArchiveClass</className>
    <guid>79ea5124-0cb0-406c-b7b5-f116d7b63b2d</guid>
    <class>
      <name>IRC.IRCBotArchiveClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <channel>
        <customDisplay />
        <disabled>0</disabled>
        <name>channel</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Channel</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage />
        <validationRegExp />
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </channel>
    </class>
    <property>
      <channel>medsavant</channel>
    </property>
  </object>
</xwikidoc>