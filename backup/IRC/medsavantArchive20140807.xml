<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>IRC</web>
  <name>medsavantArchive20140807</name>
  <language />
  <defaultLanguage />
  <translation>0</translation>
  <creator>XWiki.sdumitriu</creator>
  <creationDate>1407392812000</creationDate>
  <parent>IRC.WebHome</parent>
  <author>XWiki.sdumitriu</author>
  <contentAuthor>XWiki.sdumitriu</contentAuthor>
  <date>1407449583000</date>
  <contentUpdateDate>1407449583000</contentUpdateDate>
  <version>1.48</version>
  <title>IRC Archive for channel #medsavant on 07 August 2014</title>
  <comment>Logging from IRC</comment>
  <minorEdit>true</minorEdit>
  <syntaxId>plain/1.0</syntaxId>
  <hidden>false</hidden>
  <content>&lt;mcupak> has joined #medsavant
09:35 &lt;jim_> has joined #medsavant
11:27 &lt;jim_> has joined #medsavant
14:16 &lt;jim_> has joined #medsavant
14:45 &lt;jim_> has joined #medsavant
14:47 &lt;jim_> hi
14:47 &lt;jim_> so right now the servlet credentials are in a weird spot. /src/main/resources
14:47 &lt;jim_> which I think what Sergiu was getting at
14:48 &lt;jim_> was what
14:51 &lt;jim_> meatcar - we should probably move them.  Not sure what the best practice is so that it remains portable to other containers like tomcat.
14:55 &lt;meatcar> jim_: thats an ok place to keep default resources. However, they should not be modified during development. Instead, we should be building the application, and running it from the /target folder. Like I outlined in the README, the resources are coppied to /target/classes, and can be edited there
14:55 &lt;jim_> meatcar - I think that could work, but I wonder if it's more convenient to keep credentials completely external
14:55 &lt;meatcar> and customized
14:56 &lt;jim_> the problem is right now if I need to make a credential change, I end up rebuilding the .war
14:56 &lt;jim_> What if we edited web.xml and specified a location to an external file like /etc/medsavant_servlet_credentials.txt
14:56 &lt;jim_> then the admin running the servlet would just have to deploy a separate file with credentials
14:57 &lt;jim_> Any thoughts on what's better?
14:58 &lt;jim_> meatcar - http://www.coderanch.com/t/357739/Servlets/java/file-location-web-xml
14:58 &lt;meatcar> most applications default to multiple levels of credentials, i.e. /etc/config, $HOME/.config, and ./config (in the folder beside the executable). That makes more sense, as it would allow me to run multiple servlets on the same machine, accessing multiple servers
15:00 &lt;jim_> Hmm, ok, so in java I'd first try to open 'config' from the current working directory, and if that didn't work, I'd try $HOME/.config, and if that didn't work, I'd try whatever was in web.xml (by default /etc/config).  I'll adjust the filename of course
15:01 &lt;meatcar> yea, that makes sense
15:01 &lt;jim_> OK, I'll do that.  This isn't the first time the password was leaked on git, so it's probably time to fix it :P
15:02 &lt;jim_> back in 10 mins...
15:27 &lt;jim_> has joined #medsavant
16:07 &lt;jim_> meatcar - do you happen to know how to refer to the location where a servlet is deployed from within web.xml?  e.g. I have &lt;param-name>MedSavantConfigFile&lt;/param-name>&lt;param-value>config.properties&lt;/param-value>
16:07 &lt;jim_> but this actually looks in a location like /var/lib/tomcat7/config.properties
16:07 &lt;jim_> when in fact it should be looking in /var/lib/tomcat7/medsavant-json-client-1.3-SNAPSHOT/config.properties
16:08 &lt;jim_> the fallback to /etc/medsavantjson/config.properties works nicely though
16:15 &lt;meatcar> i'm not sure
16:17 &lt;meatcar> http://tomcat.10.x6.nabble.com/relative-paths-in-web-xml-td2114030.html
16:18 &lt;jim_> thanks I'll take a look in a few mins, just in a skype meeting now
16:18 &lt;meatcar> np
16:50 &lt;meatcar> hey jim_, I'm trying to stress test medsavant with 1million variants. Other than adding a new annotation, can you think of any other really expensive tasks I can execute?
16:55 &lt;jim_> Maybe running a Mendel analysis?
16:55 &lt;jim_> but that might put more stress on the client
16:55 &lt;jim_> I think adding an annotation is a pretty good test
16:55 &lt;jim_> it involves a dump and reload
16:55 &lt;jim_> a re-execution of the annotation pipeline
16:56 &lt;jim_> However, you might also just look at query times
16:56 &lt;jim_> I mean select query times
16:59 &lt;meatcar> yea thats pretty much what I'm doing now. Thanks.
17:00 &lt;meatcar> actually, one more question. Do you know where I can find a new annotation to install? One that's not included.
17:00 &lt;jim_> There should be many available by default when you go to the admin tool
17:00 &lt;jim_> You could install an older version of one of them
17:01 &lt;jim_> e.g. snp137
17:01 &lt;meatcar> ah, I see. Thanks
18:12 &lt;jim_> meatcar - I pushed a change for the servlet, hopefully this is closer to what we need
18:13 &lt;jim_> change as you like.  For our (dnastack) purposes, we'll probably always just put the config in /etc/medsavantjson/config.properties</content>
  <object>
    <name>IRC.medsavantArchive20140807</name>
    <number>0</number>
    <className>IRC.IRCBotArchiveClass</className>
    <guid>fa568bd0-8168-4da0-a498-321106980e4d</guid>
    <class>
      <name>IRC.IRCBotArchiveClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <channel>
        <customDisplay />
        <disabled>0</disabled>
        <name>channel</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Channel</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage />
        <validationRegExp />
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </channel>
    </class>
    <property>
      <channel>medsavant</channel>
    </property>
  </object>
</xwikidoc>