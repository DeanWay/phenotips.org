<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>IRC</web>
  <name>medsavantArchive20130606</name>
  <language />
  <defaultLanguage />
  <translation>0</translation>
  <creator>XWiki.sdumitriu</creator>
  <creationDate>1370531181000</creationDate>
  <parent>IRC.WebHome</parent>
  <author>XWiki.sdumitriu</author>
  <contentAuthor>XWiki.sdumitriu</contentAuthor>
  <date>1370553314000</date>
  <contentUpdateDate>1370553314000</contentUpdateDate>
  <version>1.86</version>
  <title>IRC Archive for channel #medsavant on 06 June 2013</title>
  <comment>Logging from IRC</comment>
  <minorEdit>true</minorEdit>
  <syntaxId>plain/1.0</syntaxId>
  <hidden>false</hidden>
  <content>&lt;sdumitriu1> has joined #medsavant
11:09 &lt;bvancea> has joined #medsavant
11:09 &lt;sdumitriu1> Hey bvancea
11:09 &lt;bvancea> hello sdumitriu
11:09 &lt;bvancea> how are you?
11:10 &lt;sdumitriu1> Super busy...
11:11 &lt;bvancea> oh
11:11 &lt;sdumitriu1> You?
11:12 &lt;bvancea> good, just came back from the last lecture of the year
11:12 &lt;bvancea> :D
11:13 &lt;bvancea> so yesterday Ive managed to index some variants using the vcf parser that medsavant had
11:13 &lt;bvancea> but the variants are stored differently in the medsavant database
11:13 &lt;bvancea> no multi valued fields
11:14 &lt;bvancea> so I need to either modify the parser I've implemented, or the parser Medsavant has
11:14 &lt;bvancea> to index the variants properly
11:14 &lt;sdumitriu1> They must definitely be multivalued
11:15 &lt;sdumitriu1> The fact that it's using LIKE queries right now is the main cause of performance issues, IMHO
11:15 &lt;bvancea> yup
11:15 &lt;bvancea> I've actually tried a very small file
11:16 &lt;bvancea> with about 200 rows
11:16 &lt;bvancea> and medsavant stores around 30 000 "variants"
11:16 &lt;bvancea> from that file
11:18 &lt;sdumitriu1> Whoa, that's a lot
11:18 &lt;bvancea> well, there are some extra fields
11:18 &lt;bvancea> it parses
11:19 &lt;bvancea> since for each variant row in the .vcf file, besides the columns I've implemented in my parser, it also parses a list of dna ids
11:19 &lt;bvancea> and for each dna id, there's a different row in the database
11:20 &lt;sdumitriu1> I see
11:20 &lt;bvancea> there are also some columns which are computed
11:20 &lt;bvancea> like zygosity and gt
13:58 &lt;bvancea> has joined #medsavant
13:59 &lt;bvancea> so, I understood how variants are stored by Medsavant
13:59 &lt;bvancea> :D
13:59 &lt;sdumitriu1> Good
13:59 &lt;bvancea> basically, for each genetype of the variants, theres a new row
13:59 &lt;bvancea> in the database
14:00 &lt;bvancea> but I suppose we could add the genotypes as a multi valued field
14:00 &lt;bvancea> in the index
14:01 &lt;bvancea> and keep zygosity in the same manner, as a multi valued field
14:01 &lt;sdumitriu1> Depends
14:02 &lt;sdumitriu1> Is the zygosity multivalued?
14:03 &lt;bvancea> the zygosity is computed
14:03 &lt;bvancea> for each value of genotype
14:03 &lt;bvancea> there's a zygosity computed
14:04 &lt;sdumitriu1> OK, but if the zygosity depends on the genetype, then they can't be stored in bulk
14:04 &lt;sdumitriu1> Since you don't have the link between a specific gene and a specific zygosity
14:05 &lt;bvancea> hmm, I understand
14:05 &lt;bvancea> so if there is a variant, with lets say 3 genotypes: NA00001, NA00002 and NA00003
14:06 &lt;bvancea> and for each genotypes there is a zygosity
14:06 &lt;bvancea> that would mean we would need to store 3 documents in the index?
14:09 &lt;sdumitriu1> That sux
14:10 &lt;sdumitriu1> I'll ask
14:10 &lt;sdumitriu1> Or no
14:10 &lt;bvancea> well, I can do a couple of print screens to show an example
14:10 &lt;sdumitriu1> You should ask on devs@
14:10 &lt;bvancea> and send them to you
14:10 &lt;bvancea> hmm
14:10 &lt;sdumitriu1> development@
14:10 &lt;bvancea> even better
14:10 &lt;bvancea> okay
14:46 &lt;bvancea> I've added some pictures to the email I've sent
14:46 &lt;bvancea> not sure if that was a great idea, they don't seem to load very fast
15:28 &lt;bvancea> sdumitriu: I'm not sure how much time I'll have available tomorrow for working.
15:28 &lt;bvancea>  I need to go to the college graduation festivity and then go to have pictures taken with the rest of my colleagues.
15:28 &lt;bvancea> so i think I can manage to gen on in the late evening
15:31 &lt;sdumitriu> bvancea: Don't worry, go have fun
15:31 &lt;bvancea> hehe, thanks :)
15:31 &lt;bvancea> now, related to Medsavant
15:31 &lt;sdumitriu> Marc answered
15:31 &lt;bvancea> oh
15:32 &lt;bvancea> yeah, I'll go read
15:36 &lt;bvancea> hmmm
15:36 &lt;bvancea> so I've only been indexing variants from .vcf files
15:37 &lt;bvancea> I haven't added any patients
15:37 &lt;sdumitriu> Yeah, it's not clear to me either
15:38 &lt;bvancea> could I maybe get access to a server you're running?
15:38 &lt;bvancea> one that is all populated
15:38 &lt;bvancea> so I can see everything
15:39 &lt;bvancea> right now, I'm not really into storing so many documents per variant
15:39 &lt;bvancea> since it seems there's just too much wasted space
15:39 &lt;bvancea> but I dunno
15:50 &lt;bvancea> from what I've seen in the interface, I think a patient can have more dna_ids
15:50 &lt;bvancea> so the variants can be shared by patients, I guess
16:20 &lt;bvancea> has joined #medsavant
17:15 &lt;bvancea> well, I'm off to sleep
17:15 &lt;bvancea> good night</content>
  <object>
    <name>IRC.medsavantArchive20130606</name>
    <number>0</number>
    <className>IRC.IRCBotArchiveClass</className>
    <guid>a6972fc0-0d41-4df3-bbaf-1a6337191b50</guid>
    <class>
      <name>IRC.IRCBotArchiveClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <channel>
        <customDisplay />
        <disabled>0</disabled>
        <name>channel</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Channel</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage />
        <validationRegExp />
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </channel>
    </class>
    <property>
      <channel>medsavant</channel>
    </property>
  </object>
</xwikidoc>