<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>IRC</web>
  <name>medsavantArchive20130601</name>
  <language />
  <defaultLanguage />
  <translation>0</translation>
  <creator>XWiki.sdumitriu</creator>
  <creationDate>1370093958000</creationDate>
  <parent>IRC.WebHome</parent>
  <author>XWiki.sdumitriu</author>
  <contentAuthor>XWiki.sdumitriu</contentAuthor>
  <date>1370144551000</date>
  <contentUpdateDate>1370144551000</contentUpdateDate>
  <version>1.237</version>
  <title>IRC Archive for channel #medsavant on 01 June 2013</title>
  <comment>Logging from IRC</comment>
  <minorEdit>true</minorEdit>
  <syntaxId>plain/1.0</syntaxId>
  <hidden>false</hidden>
  <content>&lt;BogdanVancea> has joined #medsavant
09:50 &lt;sdumitriu> Hey BogdanVancea
09:50 &lt;BogdanVancea> hello, sdumitriu
09:50 &lt;BogdanVancea> how are you?
09:51 &lt;sdumitriu> Good
09:51 &lt;sdumitriu> You?
09:52 &lt;BogdanVancea> pretty good
09:52 &lt;BogdanVancea> just came back from shopping with the gf
09:52 &lt;BogdanVancea> and made a pull request :))
09:53 &lt;sdumitriu> Ah, nice
09:53 &lt;sdumitriu> Let's see
09:53 &lt;BogdanVancea> the images in the resource folder were not getting copied in the target jar
09:53 &lt;sdumitriu> Ah, right
09:54 &lt;sdumitriu> But that's not the right fix
09:54 &lt;sdumitriu> That is the default value
09:54 &lt;sdumitriu> Just remove the setting completely
09:54 &lt;BogdanVancea> ah, ok
09:54 &lt;BogdanVancea> let me try it
09:54 &lt;sdumitriu> The whole &lt;resources> section needs to disappear
09:55 &lt;BogdanVancea> yup
09:55 &lt;BogdanVancea> I'm just running a test clean install
09:55 &lt;BogdanVancea> before the push
09:57 &lt;BogdanVancea> hmm, apparently theres no notification
09:57 &lt;sdumitriu> Yep
09:58 &lt;sdumitriu> Just for new pull requests
09:58 &lt;BogdanVancea> makes sense
09:58 &lt;sdumitriu> Not really
09:58 &lt;sdumitriu> I guess the intended usage is to close a pull request when it's bad and to open another one once it's fixed
09:59 &lt;sdumitriu> Not to update the same PR
09:59 &lt;BogdanVancea> true
09:59 &lt;BogdanVancea> but I like the fact that I can just commit on my fork
09:59 &lt;BogdanVancea> and it gets reflected in the PR
09:59 &lt;sdumitriu> Yep
10:00 &lt;sdumitriu> Want to fix a small Maven issue?
10:00 &lt;BogdanVancea> sure
10:01 &lt;BogdanVancea> what is it?
10:01 &lt;BogdanVancea> :D
10:01 &lt;sdumitriu> OK, when you build, you get a warning about "encoding not specified, UTF-8 used" or something like that
10:01 &lt;sdumitriu> Get rid of that
10:02 &lt;BogdanVancea> sure
10:03 &lt;sdumitriu> The commit message format is supposed to be:
10:03 &lt;sdumitriu> Issue #number: Issue title
10:03 &lt;sdumitriu> What was done for this issue
10:03 &lt;sdumitriu> So also copy the original issue name when committing
10:03 &lt;BogdanVancea> ah, ok
10:04 &lt;sdumitriu> The idea is that browsing the log to see what issue that is, without having to go back to github
10:04 &lt;BogdanVancea> so Issue #2: Switch to Maven
10:04 &lt;sdumitriu> Yep
10:04 &lt;sdumitriu> Issues names are supposed to be meaningful to users
10:04 &lt;BogdanVancea> ah, ok
10:05 &lt;sdumitriu> So that when they check what was done in this release, they can understand what was done
10:05 &lt;sdumitriu> So avoid very technical names
10:05 &lt;sdumitriu> What was done in the commit can be technical if needed, since that's what developers see
10:05 &lt;sdumitriu> And it should be at past tense: what actually happened in the release
10:06 &lt;sdumitriu> But the issue name must be present tense
10:07 &lt;BogdanVancea> I see
10:07 &lt;BogdanVancea> thanks
10:09 &lt;BogdanVancea> So I should put Issue #number: Issue name on the first line of the commit comment and what was actually done on the second line?
10:10 &lt;sdumitriu> Yes
10:10 &lt;sdumitriu> This contradicts a bit what others consider a good commit message
10:10 &lt;BogdanVancea> okay
10:11 &lt;sdumitriu> Some say that a commit message should be on one line only, and at most 80 chars
10:11 &lt;sdumitriu> But IMHO that's not enough space for good history tracking
10:11 &lt;BogdanVancea> interesting
10:12 &lt;BogdanVancea> I suppose keeping it to max 80 lines makes sense if you have an external task management software
10:12 &lt;BogdanVancea> like JIRA or w/e
10:12 &lt;sdumitriu> Yes, and if you only browse history through Jira, not from the git repository
10:13 &lt;BogdanVancea> yup
10:24 &lt;sdumitriu> Well done
10:24 &lt;BogdanVancea> ty
10:24 &lt;sdumitriu> Hm, another?
10:24 &lt;BogdanVancea> hm?
10:24 &lt;sdumitriu> Do you want another issue?
10:25 &lt;BogdanVancea> ah
10:25 &lt;BogdanVancea> yes
10:25 &lt;BogdanVancea> :D
10:25 &lt;sdumitriu> OK, a bit more difficult
10:26 &lt;sdumitriu> We need to have different kinds of distributions
10:27 &lt;sdumitriu> So we need a /distribution/ subdirectory
10:27 &lt;sdumitriu> With:
10:27 &lt;sdumitriu> medsavant-client-zip
10:27 &lt;sdumitriu> medsavant-server-zip
10:27 &lt;sdumitriu> medsavant-client-dmg
10:27 &lt;sdumitriu> medsavant-client-exe
10:28 &lt;sdumitriu> medsavant-server-rpm
10:28 &lt;sdumitriu> medsavant-client-rpm
10:28 &lt;sdumitriu> medsavant-server-deb
10:28 &lt;sdumitriu> medsavant-client-deb
10:28 &lt;sdumitriu> Can you start with the zip ones?
10:28 &lt;BogdanVancea> sure
10:28 &lt;sdumitriu> You can use this as inspiration: https://github.com/compbio-UofT/phenotips/tree/master/distribution/standalone
10:29 &lt;BogdanVancea> thanks
10:29 &lt;BogdanVancea> so the zips should be generated in the /distribution/ subdirectory after running mvn install there?
10:30 &lt;sdumitriu> /distribution/medsavant-client-zip/target/
10:30 &lt;sdumitriu> The normal place for build outputs
10:30 &lt;sdumitriu> You can read more about the maven-assembly-plugin here: http://maven.apache.org/plugins/maven-assembly-plugin/
10:31 &lt;BogdanVancea> okay, thanks
10:31 &lt;BogdanVancea> I'll start working on it then
10:44 &lt;sdumitriu> I've made a lot of issues
10:44 &lt;sdumitriu> https://github.com/compbio-UofT/medsavant/issues
10:46 &lt;BogdanVancea> nice
10:46 &lt;BogdanVancea> so in the end the /distribution/ subdirectory will contain 8 modules?
10:48 &lt;sdumitriu> Yes
11:11 &lt;sdumitriu> Don't forget that I'm here to help you, if you have any questions
11:13 &lt;BogdanVancea> sure
11:13 &lt;BogdanVancea> I've started the client distribution module
11:13 &lt;BogdanVancea> and working on it
11:14 &lt;BogdanVancea> :)
11:15 &lt;sdumitriu> Learning?
11:16 &lt;BogdanVancea> yup :D
11:16 &lt;BogdanVancea> do I need to use a logback?
11:17 &lt;sdumitriu> No
11:17 &lt;BogdanVancea> like you used with phenotips?
11:17 &lt;BogdanVancea> what's the purpose of that logback?
11:17 &lt;sdumitriu> MedSavant uses log4j
11:17 &lt;sdumitriu> That is the configuration for logback, which is the default implementation for slf4j
11:17 &lt;BogdanVancea> ah
11:17 &lt;sdumitriu> A newer logging framework
11:18 &lt;BogdanVancea> nice
11:19 &lt;sdumitriu> I think all you need is the client module, along with its dependencies
11:21 &lt;BogdanVancea> so if I only set the client, its dependencies aren't assembled?
11:22 &lt;BogdanVancea> I'll give it a try anyway, wanna see what happens
11:40 &lt;BogdanVancea> so, the zip for the client should include just the MedSavantClient .jar?
11:43 &lt;sdumitriu> And its dependencies in a /lib subdirectory
14:01 &lt;BogdanVancea> sdumitriu, got a minute?
14:01 &lt;sdumitriu> Yes
14:02 &lt;BogdanVancea> so, I have a problem with artifacts which have snaptshot versions
14:03 &lt;BogdanVancea> they're assembled with some random numbers
14:04 &lt;sdumitriu> Hm...
14:04 &lt;sdumitriu> Right
14:05 &lt;BogdanVancea> I've managed to solve that problem
14:05 &lt;BogdanVancea> for some of the artifacts
14:06 &lt;BogdanVancea> but when I add the classpath to the manifest of the client jar
14:06 &lt;BogdanVancea> the problem persists
14:07 &lt;BogdanVancea> hmm... should I make a pull request so you can see the code?
14:08 &lt;sdumitriu> I can look at your fork
14:08 &lt;sdumitriu> Just commit
14:11 &lt;BogdanVancea> https://github.com/bogdanvancea/medsavant/commits/master
14:30 &lt;sdumitriu> So it works for me if I remove the outputFileNameMapping setting
14:30 &lt;BogdanVancea> hmmm
14:30 &lt;sdumitriu> But it depends on where the snapshot comes from
14:30 &lt;sdumitriu> If you build everything at once it should work
14:31 &lt;BogdanVancea> I get a NoClassDefFoundError from a class coming from savant-core-2.0-SNAPSHOT
14:31 &lt;sdumitriu> But if you only build the distributions, it might get snapshot dependencies for the medsavant jars
14:31 &lt;sdumitriu> Which would break the classpath manifest
14:32 &lt;BogdanVancea> actually, snapshot medsavant jars are ok
14:32 &lt;sdumitriu> You get that with the outputFileNameMapping?
14:32 &lt;BogdanVancea> for me, ateast
14:33 &lt;BogdanVancea> yes, I added the outputfilenamemapping so I can set artifact.baseVersion instead of artifact.version
14:33 &lt;BogdanVancea> so snapshot jars get written properly in the classpath in the manifest
14:34 &lt;BogdanVancea> but there's a savant-core-2.0 snapshot which breaks it
14:37 &lt;BogdanVancea> so you removed the outputFileNameMapping setting from both dependency sets?
14:38 &lt;BogdanVancea> hm, it works, cool
14:39 &lt;sdumitriu> Yes
14:39 &lt;sdumitriu> You should also &lt;exclude> the client jar from the first dependency set
14:39 &lt;BogdanVancea> hm
14:39 &lt;BogdanVancea> yes
14:53 &lt;sdumitriu> Don't forget to put license headers
14:56 &lt;BogdanVancea> ah, ok
15:06 &lt;BogdanVancea> the parent pom doesn't have a license header, I'll add one there aswell
15:07 &lt;sdumitriu> Sure
15:08 &lt;sdumitriu> Make sure it's the Apache header, don't copy the LGPL one from PhenoTips
15:09 &lt;BogdanVancea> hmm
15:09 &lt;BogdanVancea> the client and server modules have license headers on their poms, I took it from there
15:10 &lt;sdumitriu> Ah, that's wrong
15:10 &lt;sdumitriu> I copied it from PhenoTips without checking the license...
15:11 &lt;BogdanVancea> hmmm
15:11 &lt;BogdanVancea> is this the right one? http://www.apache.org/licenses/LICENSE-2.0.txt
15:11 &lt;BogdanVancea> kind of long
15:11 &lt;sdumitriu> Nope, too long
15:12 &lt;BogdanVancea> nvm
15:12 &lt;BogdanVancea> found it on existing classes
15:12 &lt;sdumitriu> Yep
15:18 &lt;BogdanVancea> so awesome, running from the distribution folder
15:26 &lt;sdumitriu> Let's see...
15:37 &lt;sdumitriu> BogdanVancea: Done commenting
15:37 &lt;BogdanVancea> thanks, working on the comments now
15:38 &lt;sdumitriu> In general it's better not to mix different kind of fixes in the same commit. So you should have fixed the wrong/missing headers in a separate commit.
15:39 &lt;BogdanVancea> I see, I'll work like that from now on.
15:40 &lt;sdumitriu> There are two main reasons for that
15:40 &lt;sdumitriu> One is code review
15:40 &lt;sdumitriu> The smaller the commit, the easier the review
15:41 &lt;sdumitriu> https://en.wikipedia.org/wiki/Parkinson%27s_law_of_triviality
15:41 &lt;sdumitriu> A huge commit will be too big to review, so everybody will agree with it
15:41 &lt;sdumitriu> So it's easier to let bugs slip through
15:42 &lt;sdumitriu> A small commit will attract everybody's attention
15:42 &lt;BogdanVancea> I see
15:42 &lt;BogdanVancea> cool
15:42 &lt;sdumitriu> The other reason is again history browsing
15:43 &lt;sdumitriu> If there's a bug found, it should be easy to filter only the commits that might affect that part of the code
15:43 &lt;sdumitriu> So if I see a "[misc] Fixed license headers" I know I shouldn't look into that to look for the problem
15:44 &lt;BogdanVancea> ah, I see
15:45 &lt;sdumitriu> And if I see a "Improve the login dialog" commit with 500 lines of irelevant changes and only two actual changes for the login dialog, it's gonna be very hard to find those two lines
15:46 &lt;sdumitriu> Let me know when you've committed the build fixes
15:49 &lt;BogdanVancea> done
15:52 &lt;sdumitriu> See that last comment, then it can be merged
15:53 &lt;BogdanVancea> done
15:53 &lt;sdumitriu> Done
15:53 &lt;sdumitriu> Good job!
15:53 &lt;BogdanVancea> it's weird that I check the files 2 or 3 times
15:53 &lt;BogdanVancea> and didn't see that
15:53 &lt;BogdanVancea> thanks :D
15:54 &lt;sdumitriu> Yes, that happens
15:54 &lt;sdumitriu> That's why it's better to have more than one pair of eyes looking at the code
15:55 &lt;BogdanVancea> true
15:55 &lt;BogdanVancea> I remember that when I started programming, I was always scared of code review.
15:56 &lt;BogdanVancea> Now I find it extremely usefull
15:56 &lt;sdumitriu> Yes, you have to view it not as a criticizing process, but as both a learning process and a quality assurance process
15:57 &lt;BogdanVancea> yup :D
15:57 &lt;sdumitriu> It's OK to make mistakes, it's not OK to hope that those mistakes will go unnoticed
15:57 &lt;bvancea> there
15:57 &lt;bvancea> shorter name
15:58 &lt;sdumitriu>  /nickserv help register
15:58 &lt;bvancea> looks much better
15:59 &lt;sdumitriu> I'm not sure your client knows /nickserv though, if it doesn't, try
15:59 &lt;sdumitriu> /msg NickServ help register
15:59 &lt;bvancea> just did it
15:59 &lt;bvancea> thanks
15:59 &lt;bvancea> I'm using freenode.webchat.net
16:00 &lt;bvancea> I tried other clients, but I can't connect with them
16:00 &lt;bvancea> from the student dorms
16:00 &lt;sdumitriu> Yes, probably port blocking
16:00 &lt;bvancea> yeah
16:01 &lt;sdumitriu> IRC is such a dangerous tool... You can, like, talk with other people
16:01 &lt;bvancea> I was really annoying to work on the diploma project
16:01 &lt;bvancea> yeah
16:01 &lt;bvancea> :)))
16:02 &lt;bvancea> I registered for UpCloud IAAS and found out I couldnt access the servers through ssh
16:02 &lt;bvancea> from the dorms
16:03 &lt;sdumitriu> But... SSH is essential
16:03 &lt;bvancea> well, I talked with the admin
16:03 &lt;bvancea> and it works now
16:04 &lt;bvancea> but eh, I guess they don't want all the students taking up the bandwith with torrent traffic
16:06 &lt;bvancea> well, I'm going to bed
16:07 &lt;bvancea> good night :)
16:07 &lt;sdumitriu> Good night
23:42 &lt;sdumitriu> has joined #medsavant</content>
  <object>
    <name>IRC.medsavantArchive20130601</name>
    <number>0</number>
    <className>IRC.IRCBotArchiveClass</className>
    <guid>2c65d907-e263-4005-b8f8-dda1ee8611ba</guid>
    <class>
      <name>IRC.IRCBotArchiveClass</name>
      <customClass />
      <customMapping />
      <defaultViewSheet />
      <defaultEditSheet />
      <defaultWeb />
      <nameField />
      <validationScript />
      <channel>
        <customDisplay />
        <disabled>0</disabled>
        <name>channel</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Channel</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage />
        <validationRegExp />
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </channel>
    </class>
    <property>
      <channel>medsavant</channel>
    </property>
  </object>
</xwikidoc>